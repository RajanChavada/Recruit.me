# Project Structure & Getting Started

## Directory Layout

```
recruiter-outreach-ai/
├── docs/
│   ├── ARCHITECTURE.md          # System design, components, data flow
│   ├── CONVENTIONS.md           # Code style, error handling, testing
│   ├── WORKFLOWS.md             # How to use LLM for development
│   ├── MVP_BRIEF.md             # MVP requirements & scope
│   └── features/
│       └── linkedin-enrichment/
│           ├── brief.md         # Feature requirements
│           ├── plan.md          # Step-by-step implementation (generated by LLM)
│           └── notes.md         # Gotchas & decisions
│
├── backend/                     # FastAPI + Python
│   ├── app/
│   │   ├── main.py              # FastAPI app initialization
│   │   ├── config.py            # Environment config (DB, API keys)
│   │   ├── models.py            # SQLAlchemy models (Recruiter, Profile)
│   │   ├── schemas.py           # Pydantic schemas (DTOs)
│   │   ├── exceptions.py        # Custom exceptions
│   │   ├── routers/
│   │   │   └── recruiters.py     # /api/recruiters endpoints
│   │   ├── services/
│   │   │   ├── scraper.py       # Playwright scraper
│   │   │   ├── enrichment.py     # Orchestrates scraper + Gemini
│   │   │   ├── email_generator.py # Gemini email generation
│   │   │   └── db.py            # Database utilities
│   │   └── agents/
│   │       └── linkedin_vision_agent.py # Gemini Vision analysis
│   │   │   ├── test_scraper.py
│   │   │   ├── test_linkedin_vision_agent.py
│   │   │   └── test_email_generator.py
│   │   ├── integration/
│   │   │   └── test_enrichment_service.py
│   │   └── e2e/
│   │       └── test_full_flow.py
│   │
│   ├── Dockerfile               # Container definition
│   ├── requirements.txt          # Python dependencies
│   ├── .env.example              # Example environment variables
│   └── README.md                 # Backend-specific setup
│
├── frontend/                    # React + Vite
│   ├── src/
│   │   ├── App.jsx              # Main app component
│   │   ├── components/
│   │   │   ├── EnrichForm.jsx    # LinkedIn URL input form
│   │   │   ├── ProfileView.jsx   # Display enriched profile
│   │   │   ├── EmailGenerator.jsx # Generate + display email
│   │   │   └── LoadingSpinner.jsx
│   │   ├── hooks/
│   │   │   └── useOutreach.js    # Custom hook for API calls
│   │   ├── store/
│   │   │   └── outreachStore.js  # Zustand state management
│   │   └── index.css             # TailwindCSS styles
│   │
│   ├── package.json
│   ├── vite.config.js
│   ├── Dockerfile               # Node.js container
│   └── README.md                 # Frontend-specific setup
│
├── (no docker-compose for MVP)  # Bring-your-own Postgres
├── .gitignore
├── README.md                     # Project overview & setup
└── .github/
    └── workflows/
  └── (deployment files out of scope for MVP)
```

---

## Getting Started (Local Development)

### Prerequisites
- Python 3.11+
- Node.js 18+
- Gemini API key (free tier: https://aistudio.google.com)

### Step 1: Clone & Setup Backend

```bash
# Clone the repo
git clone <your-repo>
cd recruiter-outreach-ai

# Backend setup
cd backend
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate

# Install dependencies
pip install -r requirements.txt
playwright install  # Required for Playwright to work

# Setup environment
cp .env.example .env
# Edit .env and add:
# GEMINI_API_KEY=your_api_key_here
# DATABASE_URL=postgresql://user:pass@localhost:5432/outreach_dev
```

### Step 2: Start PostgreSQL (bring your own)

Run PostgreSQL however you prefer (local install, hosted DB, etc.) and set `DATABASE_URL` in `backend/.env`.

### Step 3: Initialize Database

```bash
cd backend

# Create tables (using Alembic migrations, or direct SQLAlchemy)
python -c "from app.models import Base; from app.config import engine; Base.metadata.create_all(engine)"
```

### Step 4: Run Backend

```bash
cd backend
uvicorn app.main:app --reload

# Should see:
# INFO:     Uvicorn running on http://127.0.0.1:8000
# INFO:     Application startup complete
```

Test it:
```bash
curl http://localhost:8000/api/health
# Returns: {"status": "ok"}
```

### Step 5: Setup & Run Frontend

```bash
# In new terminal, from project root
cd frontend
npm install
npm run dev

# Should see:
#   VITE v5.0.0 ready in 123 ms
#   ➜ Local: http://localhost:5173/
```

### Step 6: Test End-to-End
- API Docs (Swagger): http://localhost:8000/docs

Try:
1. Enter a LinkedIn URL: `https://linkedin.com/in/someone`
2. Click "Enrich Profile"
3. See results
4. Generate email
---

## Commands Cheat Sheet

### Backend
```bash
cd backend

# Development
uvicorn app.main:app --reload
# or

# Tests
pytest                          # All tests
pytest tests/unit/              # Only unit tests
pytest -v                       # Verbose
pytest --cov=app               # Coverage report

# Formatting
black .                         # Auto-format code
pylint app/                     # Lint

# Database
python -c "from app.models import Base; from app.config import engine; Base.metadata.create_all(engine)"
```
---

## Environment Variables

Create `backend/.env`:
```
GEMINI_API_KEY=sk-...your-api-key...
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/outreach_dev
ENVIRONMENT=development
LOG_LEVEL=DEBUG
```

Create `frontend/.env`:
```
VITE_API_BASE_URL=http://localhost:8000
```
---

## First Implementation: Gemini Vision Prompt Testing

Before building the full app, test the Gemini Vision prompt:

1. Go to AI Studio: https://aistudio.google.com
2. Create new chat, select **Gemini 3 Pro Vision**
3. Upload a LinkedIn profile screenshot (take one manually)
4. Use this prompt:

```text
You are an expert LinkedIn profile analyst.
Analyze this profile screenshot and extract:

1. Person's name
2. Current role and company
3. Top 3-5 hobbies or personal interests (from bio, posts, activity)
4. Professional interests (tech, domains, industries)
5. Communication style (casual, formal, technical, warm)
6. Inferred values (based on content)

Output as JSON:
{
  "name": string,
  "role": string,
  "company": string,
  "hobbies": [string],
  "professional_interests": [string],
  "communication_style": string,
  "inferred_values": [string]
}
```

5. Test on 3 real LinkedIn profiles
6. Iterate prompt until results are good
7. Copy final prompt into `app/agents/linkedin_vision_agent.py`
---

## Deployment

Deployment is intentionally out of scope for the MVP.
---

## Project Statistics (Target for MVP)

| Metric | Target |
|--------|--------|
| Backend LOC | ~500 lines (main code) |
| Tests | ~300 lines |
| Frontend LOC | ~400 lines |
| Database tables | 3 (Recruiter, RecruiterProfile, GeneratedEmail) |
| API endpoints | 3 (enrich, get-profile, generate-email) |
| Development time | 4-5 days |
| Deployment time | <5 minutes |
---

## Debugging Tips

### Backend API returning 500?
```bash
# Check logs
tail -f app.log        # If running locally

# Check API docs
curl http://localhost:8000/docs  # Swagger UI
```

- Check timeout (default 15s)

- Check free tier quota (1,500/day)

- Check if backend is running: `curl http://localhost:8000/api/health`
---

## Next Steps After MVP

1. **Bulk enrichment**: Add queue for 100+ recruiters
2. **Scheduled jobs**: Run enrichment nightly
3. **Email sending**: Integrate SendGrid for one-click sending
4. **Analytics**: Track email opens/replies
5. **Authentication**: Multi-user campaigns
6. **UI polish**: Better error messages, loading states

See `ARCHITECTURE.md` → Future Enhancements section.
